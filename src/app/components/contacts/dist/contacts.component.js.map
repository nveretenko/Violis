{"version":3,"sources":["contacts.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,sCAA0E;AAC1E,wCAIwB;AAKxB,4CAAqC;AAOrC;IAME,2BACU,YAA4B,EAC5B,EAAe,EACf,GAAe,EACf,cAA8B;QAH9B,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,OAAE,GAAF,EAAE,CAAa;QACf,QAAG,GAAH,GAAG,CAAY;QACf,mBAAc,GAAd,cAAc,CAAgB;QAPxC,SAAI,GAAG,oBAAoB,CAAC;IAQzB,CAAC;IAEJ,sBAAW,wCAAS;aAApB;YACE,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;QACzC,CAAC;;;OAAA;IAED,mCAAmC;IACnC,oCAAQ,GAAR;QACE,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,qCAAS,GAAT;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACrD,CAAC;IAED,mCAAmC;IACnC,kCAAM,GAAN;QAAA,iBAWC;QAVC,IAAM,IAAI,gBAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,CAAE,CAAC;QACpC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,GAAG;iBACL,QAAQ,CAAC,IAAI,CAAC;iBACd,IAAI,CACH,eAAG,CAAC,cAAM,OAAA,KAAI,CAAC,SAAS,EAAE,EAAhB,CAAgB,CAAC,EAC3B,eAAG,CAAC,cAAM,OAAA,KAAI,CAAC,aAAa,EAAE,EAApB,CAAoB,CAAC,CAChC;iBACA,SAAS,EAAE,CAAC;SAChB;IACH,CAAC;IAEO,yCAAa,GAArB;QACE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC,kBAAU,CAAC,KAAK,EAAE,kBAAU,CAAC,QAAQ,CAAC,CAAC;YACtD,IAAI,EAAE,CAAC,IAAI,EAAE,kBAAU,CAAC,QAAQ,CAAC;YACjC,KAAK,EAAE,CAAC,KAAK,EAAE,kBAAU,CAAC,QAAQ,CAAC;YACnC,OAAO,EAAE,CAAC,IAAI,EAAE,kBAAU,CAAC,QAAQ,CAAC;SACrC,CAAC,CAAC;IACL,CAAC;IA9CmB;QAAnB,gBAAS,CAAC,OAAO,CAAC;4CAAyB;IADjC,iBAAiB;QAL7B,gBAAS,CAAC;YACT,QAAQ,EAAE,cAAc;YACxB,WAAW,EAAE,2BAA2B;YACxC,SAAS,EAAE,CAAC,2BAA2B,CAAC;SACzC,CAAC;OACW,iBAAiB,CAgD7B;IAAD,wBAAC;CAhDD,AAgDC,IAAA;AAhDY,8CAAiB","file":"contacts.component.js","sourcesContent":["import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport {\n  FormGroup,\n  Validators,\n  FormBuilder,\n} from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { LoadingService } from '../../services/loading.service';\nimport { ApiService } from '../../services/api.service';\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';\nimport { tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-contacts',\n  templateUrl: './contacts.component.html',\n  styleUrls: ['./contacts.component.scss'],\n})\nexport class ContactsComponent implements OnInit {\n  @ViewChild('modal') modal: TemplateRef<any>;\n  form: FormGroup;\n  mask = '00 (000) 000-00-00';\n  modalRef: BsModalRef;\n\n  constructor(\n    private modalService: BsModalService,\n    private fb: FormBuilder,\n    private api: ApiService,\n    private loadingService: LoadingService\n  ) {}\n\n  public get isLoading(): Observable<boolean> {\n    return this.loadingService.isLoading();\n  }\n\n  // tslint:disable-next-line:typedef\n  ngOnInit() {\n    this._generateForm();\n  }\n\n  openModal() {\n    this.modalRef = this.modalService.show(this.modal);\n  }\n\n  // tslint:disable-next-line:typedef\n  submit(): void {\n    const data = { ...this.form.value };\n    if (this.form.valid) {\n      this.api\n        .sendmail(data)\n        .pipe(\n          tap(() => this.openModal()),\n          tap(() => this._generateForm())\n        )\n        .subscribe();\n    }\n  }\n\n  private _generateForm(): void {\n    this.form = this.fb.group({\n      email: [null, [Validators.email, Validators.required]],\n      name: [null, Validators.required],\n      phone: ['38(', Validators.required],\n      message: [null, Validators.required],\n    });\n  }\n}\n"]}