{"version":3,"sources":["contacts.component.ts"],"names":["core_1","require","forms_1","operators_1","ContactsComponent","modalService","fb","api","loadingService","this","mask","Object","defineProperty","prototype","isLoading","ngOnInit","_generateForm","openModal","modalRef","show","modal","submit","_this","data","__assign","form","value","valid","sendmail","pipe","tap","subscribe","group","email","Validators","required","name","phone","message","__decorate","ViewChild","Component","selector","templateUrl","styleUrls","exports"],"mappings":"+nBAAA,IAAAA,OAAAC,QAAA,iBACAC,QAAAD,QAAA,kBASAE,YAAAF,QAAA,kBAOAG,kBAAA,WAME,SAAAA,EACUC,EACAC,EACAC,EACAC,GAHAC,KAAAJ,aAAAA,EACAI,KAAAH,GAAAA,EACAG,KAAAF,IAAAA,EACAE,KAAAD,eAAAA,EAPVC,KAAAC,KAAO,qBA6CT,OAnCEC,OAAAC,eAAWR,EAAAS,UAAA,YAAS,KAApB,WACE,OAAOJ,KAAKD,eAAeM,6CAI7BV,EAAAS,UAAAE,SAAA,WACEN,KAAKO,iBAGPZ,EAAAS,UAAAI,UAAA,WACER,KAAKS,SAAWT,KAAKJ,aAAac,KAAKV,KAAKW,QAI9ChB,EAAAS,UAAAQ,OAAA,WAAA,IAAAC,EAAAb,KACQc,EAAIC,SAAA,GAAQf,KAAKgB,KAAKC,OACxBjB,KAAKgB,KAAKE,OACZlB,KAAKF,IACFqB,SAASL,GACTM,KACC1B,YAAA2B,IAAI,WAAM,OAAAR,EAAKL,cACfd,YAAA2B,IAAI,WAAM,OAAAR,EAAKN,mBAEhBe,aAIC3B,EAAAS,UAAAG,cAAR,WACEP,KAAKgB,KAAOhB,KAAKH,GAAG0B,MAAM,CACxBC,MAAO,CAAC,KAAM,CAAC/B,QAAAgC,WAAWD,MAAO/B,QAAAgC,WAAWC,WAC5CC,KAAM,CAAC,KAAMlC,QAAAgC,WAAWC,UACxBE,MAAO,CAAC,MAAOnC,QAAAgC,WAAWC,UAC1BG,QAAS,CAAC,KAAMpC,QAAAgC,WAAWC,aA5CXI,WAAA,CAAnBvC,OAAAwC,UAAU,+BADApC,EAAiBmC,WAAA,CAL7BvC,OAAAyC,UAAU,CACTC,SAAU,eACVC,YAAa,4BACbC,UAAW,CAAC,gCAEDxC,GAAb,GAAayC,QAAAzC,kBAAAA","file":"contacts.component.min.js","sourcesContent":["import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport {\n  FormGroup,\n  Validators,\n  FormBuilder,\n} from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { LoadingService } from '../../services/loading.service';\nimport { ApiService } from '../../services/api.service';\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';\nimport { tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-contacts',\n  templateUrl: './contacts.component.html',\n  styleUrls: ['./contacts.component.scss'],\n})\nexport class ContactsComponent implements OnInit {\n  @ViewChild('modal') modal: TemplateRef<any>;\n  form: FormGroup;\n  mask = '00 (000) 000-00-00';\n  modalRef: BsModalRef;\n\n  constructor(\n    private modalService: BsModalService,\n    private fb: FormBuilder,\n    private api: ApiService,\n    private loadingService: LoadingService\n  ) {}\n\n  public get isLoading(): Observable<boolean> {\n    return this.loadingService.isLoading();\n  }\n\n  // tslint:disable-next-line:typedef\n  ngOnInit() {\n    this._generateForm();\n  }\n\n  openModal() {\n    this.modalRef = this.modalService.show(this.modal);\n  }\n\n  // tslint:disable-next-line:typedef\n  submit(): void {\n    const data = { ...this.form.value };\n    if (this.form.valid) {\n      this.api\n        .sendmail(data)\n        .pipe(\n          tap(() => this.openModal()),\n          tap(() => this._generateForm())\n        )\n        .subscribe();\n    }\n  }\n\n  private _generateForm(): void {\n    this.form = this.fb.group({\n      email: [null, [Validators.email, Validators.required]],\n      name: [null, Validators.required],\n      phone: ['38(', Validators.required],\n      message: [null, Validators.required],\n    });\n  }\n}\n"]}