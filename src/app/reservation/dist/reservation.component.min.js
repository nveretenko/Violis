"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)},__decorate=this&&this.__decorate||function(e,r,t,o){var i,n=arguments.length,a=n<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,r,t,o);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(n<3?i(a):3<n?i(r,t,a):i(r,t))||a);return 3<n&&a&&Object.defineProperty(r,t,a),a};exports.__esModule=!0;var core_1=require("@angular/core"),forms_1=require("@angular/forms"),operators_1=require("rxjs/operators"),ReservationComponent=function(){function e(e,r,t,o,i){this.localeService=e,this.fb=r,this.modalService=t,this.api=o,this.loadingService=i,this.mask="00 (000) 000-00-00",this.localeService.use("ru")}return Object.defineProperty(e.prototype,"isLoading",{get:function(){return this.loadingService.isLoading()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._generateForm()},e.prototype.openModal=function(){this.modalRef=this.modalService.show(this.modal)},e.prototype.submit=function(){var e=this,r=__assign({},this.form.value);this.form.valid&&this.api.sendmail(r).pipe(operators_1.tap(function(){return e.openModal()}),operators_1.tap(function(){return e._generateForm()})).subscribe()},e.prototype._generateForm=function(){this.form=this.fb.group({email:[null,[forms_1.Validators.email,forms_1.Validators.required]],name:[null,forms_1.Validators.required],phone:["38(",forms_1.Validators.required],adult:[null,forms_1.Validators.required],children:[null],arrival_date:[null,forms_1.Validators.required],date_departure:[null,forms_1.Validators.required],message:[null],rooms:this.fb.group({room:["standard",forms_1.Validators.required]})})},__decorate([core_1.ViewChild("modal")],e.prototype,"modal"),e=__decorate([core_1.Component({selector:"app-reservation",templateUrl:"./reservation.component.html",styleUrls:["./reservation.component.scss"]})],e)}();exports.ReservationComponent=ReservationComponent;
//# sourceMappingURL=reservation.component.min.js.map
